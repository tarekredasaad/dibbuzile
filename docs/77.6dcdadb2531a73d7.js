"use strict";(self.webpackChunkDubbizel_Angular=self.webpackChunkDubbizel_Angular||[]).push([[77],{3077:(M,p,i)=>{i.r(p),i.d(p,{ProfileModule:()=>N});var g=i(4755),s=i(9439),n=i(9401),f=i(5226),c=i.n(f),e=i(2223),u=i(262),d=i(2843),m=i(2340),v=i(3144);let b=(()=>{class r{constructor(t){this.http=t}editProfile(t,o){return this.http.put(`${m.N.apiUrl}Profile/editProfile/${t}`,o).pipe((0,u.K)(a=>(0,d._)(()=>a.errorMessage||"server error")))}GetProfile(t){return this.http.get(`${m.N.apiUrl}Profile/getProfile/${t}`).pipe((0,u.K)(o=>(0,d._)(()=>o.errorMessage||"server error")))}DeleteProfile(t){return this.http.delete(`${m.N.apiUrl}Profile/deleteProfile/${t}`).pipe((0,u.K)(o=>(0,d._)(()=>o.errorMessage||"server error")))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(v.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var h=i(613);function Z(r,l){1&r&&(e.TgZ(0,"small",46),e._uU(1,"Name is required."),e.qZA())}const U=function(){return["/Home"]},A=[{path:"account",component:(()=>{class r{constructor(t,o,a){this.router=t,this.profileService=o,this.fb=a,this.ApplicationUserId=localStorage.getItem("ApplicationUserId"),this.maxChars=200,this.EditForm=this.fb.group({userName:["",[n.kI.required]],day:[""],month:[""],year:[""],gender:[""],aboutMe:[""],phoneNumber:[""],email:[""]}),this.dataFields={text:"Name",value:"id"},this.genders=["Male","Female","Prefer not to say"],this.dataOfDays={text:"id",value:"id"},this.days=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],this.dataOfMonths={text:"id",value:"id"},this.months=["1","2","3","4","5","6","7","8","9","10","11","12"],this.dataOfYears={text:"id",value:"id"},this.years=["2023","2022","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003","2002","2001","2000","1999","1998","1997","1996","1995","1994","1993","1992","1991","1990","1989","1988","1987","1986","1985","1984","1983","1982","1981","1980","1979","1978","1977","1976","1975","1974","1973","1972","1971","1970","1969","1968","1967","1966","1965","1964","1963","1962","1961","1960","1959","1958","1957","1956","1955","1954","1953","1952","1951","1950"],this.logOut=()=>{localStorage.removeItem("jwt"),localStorage.removeItem("ApplicationUserId"),localStorage.removeItem("UserName"),window.location.href=""},this.buildForm()}buildForm(){this.AdForm=this.fb.group({aboutMe:[""]})}get userName(){return this.EditForm.get("userName")}get gender(){return this.EditForm.get("gender")}get phoneNumber(){return this.EditForm.get("phoneNumber")}get email(){return this.EditForm.get("email")}get day(){return this.EditForm.get("day")}get month(){return this.EditForm.get("month")}get year(){return this.EditForm.get("year")}get aboutMe(){return this.EditForm.get("aboutMe")}ngOnInit(){this.profileService.GetProfile(this.ApplicationUserId).subscribe({next:t=>{console.log(t),this.EditForm.patchValue({userName:t.userName,gender:t.gender,day:t.day,month:t.month,year:t.year,email:t.email,aboutMe:t.aboutMe,phoneNumber:t.phoneNumber})},error:t=>this.errorMessage=t})}loadData(){this.profileService.editProfile(this.ApplicationUserId,this.EditForm.value).subscribe({next:t=>{console.log(this.EditForm.value),console.log(t),this.EditForm.value=t,localStorage.setItem("UserName",this.EditForm.get("userName").value)},error:t=>this.errorMessage=t})}delAccount(){c().fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.profileService.DeleteProfile(this.ApplicationUserId).subscribe({next:o=>{console.log(o),c().fire("Deleted!","Your Account has been deleted.","success"),this.logOut(),this.router.navigate(["/Home"])},error:o=>this.errorMessage=o})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(s.F0),e.Y36(b),e.Y36(n.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-userprofile"]],decls:92,vars:25,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2"],[1,"col-8",2,"border","1px solid rgb(163, 155, 155)","margin-top","6%","border-radius","10px"],[2,"padding-top","2%"],[2,"width","100%"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-6","details"],[1,"form-group"],[2,"font-weight","bold","font-size","14px","margin-bottom","2%"],["formControlName","userName","type","text",1,"form-control",3,"value"],["class","text-danger",4,"ngIf"],[1,"row","form-group",2,"margin-top","5%"],[1,"col","form-group"],["formControlName","day","placeholder","DD",3,"dataSource","value","fields"],[1,"col"],["formControlName","month","placeholder","MM",3,"dataSource","value","fields"],["formControlName","year","placeholder","YYYY",3,"dataSource","value","fields"],[2,"font-weight","bold","font-size","14px",";margin-bottom","2%"],["formControlName","gender","placeholder","Select your gender",3,"dataSource","value","fields"],[1,"mb-3",2,"margin-top","5%","padding-bottom","5%"],["rows","5","placeholder","About Me (optional)","formControlName","aboutMe",1,"form-control",3,"maxlength","value"],["myInput",""],[1,"nopadding","clrlbl",2,"font-size","13px"],[1,"col-4","Description"],[2,"border","1px solid rgb(163, 155, 155)","padding-top","3%","margin-top","10%"],[2,"font-weight","bold","font-size","13px","margin-left","2%"],[2,"font-size","12px","margin-left","2%"],[2,"font-weight","bold","font-size","16px",";margin-bottom","2%"],[1,"col-6","inputNumAndEmail"],["type","tel","formControlName","phoneNumber","placeholder","Phone number:1XXXXXXXXX",1,"form-control",3,"value"],[1,"col-6","paraNumAndEmail"],[2,"font-size","12px"],[1,"row","mt-3"],[1,"col-6","inputNumAndEmail",2,"margin-bottom","5%"],["type","email","placeholder","Email:XXXX@XXXXX.XXX","formControlName","email",1,"form-control",3,"value"],[1,"row","saveeDiv"],[1,"col-1","saveDiv"],[1,"dropdown-item",2,"text-decoration","underline",3,"routerLink"],[1,"col-8"],[1,"col-3","saveBtn"],[1,"btn","btn-danger",2,"margin-bottom","8%"],[1,"col-8",2,"border","1px solid rgb(163, 155, 155)","margin-top","5%","margin-bottom","5%","border-radius","10px"],[1,"col-7","delHeader","delAccDiv"],[1,"col-3","delBtn","delAccDiv"],["type","button",1,"btn","btn-danger",2,"margin-bottom","8%",3,"click"],[1,"text-danger"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3)(4,"h5",4),e._uU(5,"Edit Profile"),e.qZA(),e._UZ(6,"hr",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return o.loadData()}),e.TgZ(8,"div",1)(9,"div",7)(10,"div",8),e._UZ(11,"br"),e.TgZ(12,"label",9),e._uU(13,"Name"),e.qZA(),e._UZ(14,"input",10),e.YNc(15,Z,2,0,"small",11),e.qZA(),e.TgZ(16,"div",12)(17,"label",9),e._uU(18,"Date of birth"),e.qZA(),e.TgZ(19,"div",13),e._UZ(20,"ejs-dropdownlist",14),e.qZA(),e.TgZ(21,"div",15),e._UZ(22,"ejs-dropdownlist",16),e.qZA(),e.TgZ(23,"div",15),e._UZ(24,"ejs-dropdownlist",17),e.qZA()(),e._UZ(25,"br")(26,"br"),e.TgZ(27,"div",8)(28,"label",18),e._uU(29,"Gender"),e.qZA(),e._UZ(30,"br")(31,"ejs-dropdownlist",19),e.qZA(),e.TgZ(32,"div",20),e._UZ(33,"textarea",21,22),e.TgZ(35,"label",23),e._uU(36),e.qZA()()(),e.TgZ(37,"div",24)(38,"div",25)(39,"p",26),e._uU(40,"Why is it important?"),e.qZA(),e.TgZ(41,"p",27),e._uU(42,"Dubizzle is built on trust. Help other people get to"),e._UZ(43,"br"),e._uU(44,"know you. Tell them about the things you like. Share "),e._UZ(45,"br"),e._uU(46,"your favorite brands, books, movies,shows,music,"),e._UZ(47,"br"),e._uU(48," food. And you will see the results\u2026"),e.qZA()()(),e._UZ(49,"div",2)(50,"hr",5),e.TgZ(51,"p",28),e._uU(52,"Contact information"),e.qZA(),e.TgZ(53,"div",1)(54,"div",29),e._UZ(55,"input",30),e.qZA(),e._UZ(56,"br"),e.TgZ(57,"div",31)(58,"p",32),e._uU(59,"This is the number for buyers contacts, reminders, and other notifications."),e.qZA()()(),e.TgZ(60,"div",33)(61,"div",34),e._UZ(62,"input",35),e.qZA(),e.TgZ(63,"div",31)(64,"p",32),e._uU(65,"We won't reveal your email to anyone else nor use it to send you spam"),e.qZA()()(),e._UZ(66,"hr",5),e.TgZ(67,"div",36)(68,"div",37)(69,"a",38)(70,"b"),e._uU(71,"Discard"),e.qZA()()(),e._UZ(72,"div",39),e.TgZ(73,"div",40)(74,"button",41),e._uU(75,"Save changes"),e.qZA()()()()()(),e._UZ(76,"div",2),e.qZA(),e.TgZ(77,"div",1),e._UZ(78,"div",2),e.TgZ(79,"div",42)(80,"h5",4),e._uU(81,"Delete this account"),e.qZA(),e._UZ(82,"hr",5),e.TgZ(83,"div",1)(84,"div",43)(85,"h5"),e._uU(86,"Are you sure you want to delete your account?"),e.qZA()(),e._UZ(87,"div",2),e.TgZ(88,"div",44)(89,"button",45),e.NdJ("click",function(){return o.delAccount()}),e._uU(90,"Delete Account"),e.qZA()()()(),e._UZ(91,"div",2),e.qZA()()),2&t){const a=e.MAs(34);e.xp6(7),e.Q6J("formGroup",o.EditForm),e.xp6(7),e.ekj("is-invalid",(null==o.userName?null:o.userName.invalid)&&(null==o.userName?null:o.userName.touched)),e.Q6J("value",o.userName.value),e.xp6(1),e.Q6J("ngIf",(null==o.userName?null:o.userName.invalid)&&(null==o.userName?null:o.userName.touched)),e.xp6(5),e.Q6J("dataSource",o.days)("value",o.day.value)("fields",o.dataOfDays),e.xp6(2),e.Q6J("dataSource",o.months)("value",o.month.value)("fields",o.dataOfMonths),e.xp6(2),e.Q6J("dataSource",o.years)("value",o.year.value)("fields",o.dataOfYears),e.xp6(7),e.Q6J("dataSource",o.genders)("value",o.gender.value)("fields",o.dataFields),e.xp6(2),e.Q6J("maxlength",o.maxChars)("value",o.aboutMe.value),e.xp6(3),e.AsE("",a.value.length,"/",o.maxChars,""),e.xp6(19),e.Q6J("value",o.phoneNumber.value),e.xp6(7),e.Q6J("value",o.email.value),e.xp6(7),e.Q6J("routerLink",e.DdM(24,U))}},dependencies:[g.O5,s.rH,n._Y,n.Fj,n.JJ,n.JL,n.nD,n.sg,n.u,h.rI],styles:["@media (max-width: 600px){.details[_ngcontent-%COMP%], .delHeader[_ngcontent-%COMP%], .delBtn[_ngcontent-%COMP%], .inputNumAndEmail[_ngcontent-%COMP%], .paraNumAndEmail[_ngcontent-%COMP%]{display:inline-block;width:100%}.Description[_ngcontent-%COMP%]{display:inline-block;width:100%;margin-bottom:5%;margin-top:0}.saveDiv[_ngcontent-%COMP%], .saveBtn[_ngcontent-%COMP%], .delAccDiv[_ngcontent-%COMP%]{width:100%;text-align:center;padding-top:10px}}"]}),r})()}];let y=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[s.Bz.forChild(A),s.Bz]}),r})(),N=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.ez,y,n.u5,n.UX,h.g9]}),r})()}}]);